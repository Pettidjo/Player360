{"version":3,"sources":["reducers/index.js","reducers/playerReducers.js","actions/types.js","actions/index.js","components/Header.js","components/Player360/player360Style.js","components/Player360/Player360.js","components/Galerie.js","components/App.js","index.js","config/keys.js"],"names":["combineReducers","player360","state","arguments","length","undefined","action","type","payload","fetchApiPlayer","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","dispatch","res","wrap","_context","prev","next","axios","method","url","concat","keys","ref","headers","Accept","Content-Type","cache-control","x-api-key","apikey","sent","data","stop","this","_x","apply","style","header","backgroundColor","logo","marginLeft","Radium","react_default","createElement","className","href","container360","position","margin","width","wrapperPlayer360","height","overflowX","overflowY","display","wrapperScroll360","top","left","zIndex","cursor","wrapperImage","Player360","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","mouseIsDown","e","elem","ReactDOM","findDOMNode","refs","scrollingElement","setState","isDown","startX","pageX","offsetLeft","scrollLeft","scrollTop","mouseUp","mouseLeave","mouseMove","preventDefault","walkX","getImages","views","view3d","originals","viewsURL","map","view","zIndexImage","id","viewToRender","handleScroll","limit","Math","max","scrollWidth","offsetWidth","nbImg","nImg","round","_this2","addEventListener","_this3","removeEventListener","prevProps","_this4","key","src","onScroll","Component","galerie","flexWrap","alignItems","flexDirection","padding","image","boxShadow","Galerie","images","urlImg","App","style_root","components_Header","components_Player360_Player360","outsidePanorama","components_Galerie","connect","find","actions","store","createStore","reducers","composeWithDevTools","applyMiddleware","ReduxThunk","render","react_redux_es","components_App","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.30433ef0.chunk.js","sourcesContent":["import { combineReducers } from 'redux';\n\nimport playerReducers from './playerReducers';\n\nexport default combineReducers({\n  player360: playerReducers\n});","import { FETCH_API_PLAYER } from '../actions/types';\n\nexport default function(state = null, action) {\n  switch (action.type) {\n    case FETCH_API_PLAYER:\n      return action.payload;\n    default:\n      return state;\n  }\n} ","export const FETCH_API_PLAYER = 'fetch_api_player';","import axios from 'axios';\nimport keys from '../config/keys';\nimport { FETCH_API_PLAYER } from './types';\n\nconst URL_STAMPYT = 'https://api.stampyt.io/rec'\n\nexport const fetchApiPlayer = () => async dispatch => {\n  const res = await axios({\n    method: 'get',\n    url: `${URL_STAMPYT}/panorama-shootings?ref=${keys.ref}`,\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'cache-control': 'no-cache',\n      'x-api-key': keys.apikey\n    }\n  });\n\n  dispatch({ type: FETCH_API_PLAYER, payload: res.data });\n}","import React from 'react';\nimport Radium from 'radium';\n\nconst style = {\n  header: {\n    backgroundColor: '#222222'\n  },\n  logo: {\n    marginLeft: '20px'\n  }\n}\n\nconst Header = () => {\n  return(\n    <nav style={style.header}>\n      <div className=\"nav-wrapper\">\n        <a href=\"/\" style={style.logo} className=\"brand-logo\">Player 360</a>\n        <ul className=\"right\">\n          <li><a href=\"/\">Home</a></li>\n        </ul>\n      </div>\n    </nav>\n  )\n}\n\nexport default Radium(Header);","const width = 600;\n\nconst style = {\n  container360: {\n    position: 'relative',\n    margin: '24px',\n    width: width + 'px',\n  },\n  wrapperPlayer360: {\n    position: 'relative',\n    width: width + 'px',\n    height: '450px',\n    overflowX: 'auto',\n    overflowY: 'hidden',\n    display: 'flex'\n  },\n  wrapperScroll360: {\n    width: width * 2 + 'px',\n    backgroundColor: 'transparent',\n    height: '450px',\n    display: 'flex',\n    overflowX: 'scroll',\n    position: 'absolute',\n    top: '0', left: '0',\n    zIndex: '1000',\n    cursor: 'grab',\n\n  },\n  wrapperImage: {\n    position: 'absolute',\n    top: '0', left: '0',\n    width: width + 'px',\n  },\n}\n\nexport default style;","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport Radium from 'radium';\nimport { map } from 'lodash';\n\n// style\nimport style from './player360Style';\n\nclass Player360 extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      views: null,\n      viewToRender: 0,\n      isDown: false,\n      startX: 0,\n      scrollLeft: 0,\n      scrollTop: 0\n    }\n  }\n\n  componentDidMount() {\n    const elem = ReactDOM.findDOMNode(this.refs.scrollingElement);\n    \n    elem.addEventListener('scroll', this.handleScroll);\n    elem.addEventListener('mousedown', e => this.mouseIsDown(e));  \n    elem.addEventListener('mouseup', e => this.mouseUp(e))\n    elem.addEventListener('mouseleave', e => this.mouseLeave(e));\n    elem.addEventListener('mousemove', e => this.mouseMove(e));\n  }\n\n  componentWillUnmount() {\n    const elem = ReactDOM.findDOMNode(this.refs.scrollingElement);\n    elem.removeEventListener('scroll', this.handleScroll);    elem.addEventListener('scroll', this.handleScroll);\n    elem.removeEventListener('mousedown', e => this.mouseIsDown(e));  \n    elem.removeEventListener('mouseup', e => this.mouseUp(e))\n    elem.removeEventListener('mouseleave', e => this.mouseLeave(e));\n    elem.removeEventListener('mousemove', e => this.mouseMove(e));\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.view3d !== prevProps.view3d) {\n      this.getImages();\n    }\n  }\n\n  mouseIsDown = (e) => {\n    const elem = ReactDOM.findDOMNode(this.refs.scrollingElement);\n\n    this.setState({isDown: true});\n    this.setState({startX: e.pageX - elem.offsetLeft});\n    this.setState({scrollLeft: elem.scrollLeft});\n    this.setState({scrollTop: elem.scrollTop}); \n  }\n\n  mouseUp = (e) => {\n    this.setState({isDown: false});\n  }\n  \n  mouseLeave = (e) => {\n    this.setState({isDown: false});\n  }\n  mouseMove = (e) => {\n    const elem = ReactDOM.findDOMNode(this.refs.scrollingElement);\n\n    if(this.state.isDown){\n      e.preventDefault();\n  \n      const x = e.pageX - elem.offsetLeft;\n      const walkX = x - this.state.startX;\n      elem.scrollLeft = this.state.scrollLeft - walkX;\n    }\n  }\n\n  getImages = () => {\n    const views = (this.props.view3d && this.props.view3d.originals) || null\n    const viewsURL = map(views, view => view.url);\n    \n    this.setState({views: viewsURL});\n  }\n\n  zIndexImage = (id) => {\n    return {\n      zIndex: this.state.viewToRender === id ? 10 : 1 \n    }\n  }\n\n  handleScroll = () => {\n    const elem = ReactDOM.findDOMNode(this.refs.scrollingElement);\n    const limit = Math.max(elem.scrollWidth, elem.offsetWidth) / 2;\n    const nbImg = this.state.views.length - 1;\n    const nImg = Math.round(elem.scrollLeft / (limit / nbImg));\n\n    this.setState({ viewToRender: nImg })\n  }\n\n  render() {\n    return (\n      <div style={ style.container360 }>\n        {this.state.views &&\n          map(this.state.views, (view, id) => <img key={id} src={view} style={[style.wrapperImage, this.zIndexImage(id)]} />)\n        }        \n        <div id=\"wrapperPlayer360\" ref='scrollingElement' style={style.wrapperPlayer360}>\n            <div id=\"scrolledDiv\" onScroll={this.handleScroll} style={style.wrapperScroll360}></div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Radium(Player360);\n","import React, { Component } from 'react';\nimport Radium from 'radium';\nimport { map } from 'lodash';\n\nconst style = {\n  galerie: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    alignItems: 'flex-start',\n    flexDirection: 'row',\n    padding: '14px'\n  },\n  image: {\n    margin: '10px',\n    boxShadow: '3px 3px 8px 0px rgba(0,0,0,0.3)',\n    width: '180px'\n  }\n}\n\nclass Galerie extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      images: null\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.galerie !== prevProps.galerie) {\n      this.getImages();\n    }\n  }\n\n  getImages = () => {\n    const views = (this.props.galerie && this.props.galerie.originals) || null\n    const viewsURL = map(views, view => view.url);\n    \n    this.setState({images: viewsURL});\n  }\n\n  render() {\n    return (\n      <div style={style.galerie}>\n        {map(this.state.images, (urlImg, id) => <img src={urlImg} key={id} style={style.image} className=\"z-depth-3\" />)}\n      </div>\n    )\n  }\n}\n\nexport default Radium(Galerie);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../actions';\nimport { find } from 'lodash';\nimport Radium,{StyleRoot} from 'radium';\n\n// Components\nimport Header from './Header';\nimport Player360 from './Player360/Player360';\nimport Galerie from './Galerie';\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.fetchApiPlayer();\n  }\n\n  render() {\n    return (\n      <StyleRoot>   \n        <div>\n          <Header />\n          <Player360 view3d={this.props.outsidePanorama} />\n          <Galerie galerie={this.props.galerie} />\n        </div>\n      </StyleRoot>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    outsidePanorama: find(state.player360, (view) => view.type === 'PANORAMA_OUTSIDE_CLOSE'),\n    galerie: find(state.player360, (view) => view.type === 'STANDARD'),\n  }\n}\n\nexport default Radium(connect(mapStateToProps, actions)(App));\n","import 'materialize-css/dist/css/materialize.min.css';\nimport './index.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport ReduxThunk from 'redux-thunk';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\n// Reducers\nimport reducers from './reducers';\n\n// Components\nimport App from './components/App';\n\nconst store = createStore(reducers, {}, composeWithDevTools(applyMiddleware(ReduxThunk)));\n\nReactDOM.render(\n  <Provider store={store}><App /></Provider>,\n  document.getElementById('root')\n);\n","module.exports = {\n  apikey:'HuFH9GhNuf9Qzbq2qc8aJ9gr6bxKrVpO2O8Sdorc',\n  ref:'BA38CE37EED05A6797AD039F9A1DD8C903C9686C6E7EF88F833A11E78ABAFACFC6A09A03721EDBD4CD5A11F37B87113284B1977F83FF422E8F1C00DE82BBEDAE'\n}"],"sourceRoot":""}